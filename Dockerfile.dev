# Development Dockerfile (fast iteration)
FROM node:20
WORKDIR /app

COPY package.json package-lock.json* ./
RUN if [ -f package-lock.json ]; then \
			npm ci || npm install --legacy-peer-deps; \
		else \
			npm install --legacy-peer-deps; \
		fi

COPY . .

# Expose port for Next dev
EXPOSE 3000

# Run dev server (Turbopack is used in package.json)
CMD ["npm", "run", "dev"]
